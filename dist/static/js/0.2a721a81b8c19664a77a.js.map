{"version":3,"sources":["webpack:///./src/axios/baseUrl.js","webpack:///./src/axios/fetch.js"],"names":["axios_baseUrl","get","path","data","options","pathIsJson","test","indexOf","Promise","resolve","reject","axios_default","a","then","res","catch","err","console","log","defaults","headers","common"],"mappings":"6EAGAA,EAFc,QC8BP,SAASC,EAAIC,EAAKC,EAAKC,MAE9B,IAAIC,EAAa,UAAUC,KAAKJ,GAI9B,OAH+B,GAA5BA,EAAKK,QAAQ,YAAqBF,IACnCH,EAAOF,EAAUE,GAEZ,IAAIM,QAAQ,SAASC,EAAQC,GAClCC,EAAAC,EAAMX,IAAIC,EAAKC,EAAKC,GAASS,KAAMC,IACjCL,EAAQK,EAAIX,QACXY,MAAOC,IACRN,EAAOM,GACPC,QAAQC,IAAIF,EAAIA,OAEjBD,MAAOC,IACPC,QAAQC,IAAIF,EAAIA,WAxCrBL,EAAAC,EAAMO,SAASC,QAAQC,OAAvB,MAAyC","file":"static/js/0.2a721a81b8c19664a77a.js","sourcesContent":["\nvar baseUrl = process.env.API_ROOT;//dev和build环境这个变量(域名)不一样\n\nexport default baseUrl\n\n\n\n// WEBPACK FOOTER //\n// ./src/axios/baseUrl.js","\nimport axios from 'axios';//引入axios\nimport baseUrl from './baseUrl';//引入axios\n//设置token\n//axios.defaults.headers.post['Content-type'] = \"application/json\";\naxios.defaults.headers.common['token'] = \"afsd20190425\";//获取token 每次访问接口都带\n\nexport function fetch(options){\n  return axios(options);\n}\n\nexport function post(path,data,options={}){\n  let pathIsJson = /\\.json$/.test(path);\n  if(pathIsJson){\n    return get(path,data,options)\n  }\n  if(path.indexOf('http://') == -1){\n    path = baseUrl + path;\n  }\n  return new Promise((resolve,reject)=>{\n    axios.post(path,data,options).then((res)=>{\n      resolve(res.data);\n    }).catch((err)=>{\n      reject(err);\n      console.log(err,err);\n    })\n  }).catch((err)=>{\n      console.log(err,err);\n    })\n}\n\nexport function get(path,data,options={}){\n\nlet pathIsJson = /\\.json$/.test(path);\r\n  if(path.indexOf('http://') == -1 && !pathIsJson){\n    path = baseUrl + path;\n  }\n  return new Promise(function(resolve,reject){\n    axios.get(path,data,options).then((res)=>{\n      resolve(res.data);\n    }).catch((err)=>{\n      reject(err);\n      console.log(err,err);\n    })\n  }).catch((err)=>{\n     console.log(err,err);\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/axios/fetch.js"],"sourceRoot":""}